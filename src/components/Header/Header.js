import React, { useRef } from "react"
import withSizes from "react-sizes"
import cx from "classnames"
import { Link } from "gatsby"
import Icon from "@santiment-network/ui/Icon"
import { mapSizesToProps } from "../../utils/sizes"
import Dropdown from "../Dropdown/Dropdown"
import dropdownStyles from "../Dropdown/Dropdown.module.scss"
import styles from "./Header.module.scss"

const Header = ({ isDesktop, isTablet }) => {
  const toggle = useRef(null)

  return (
    <header className={styles.wrapper}>
      <div className={cx(styles.header, 'container')}>
      <Link className={styles.logo} to='/'>
        <svg
          width='175'
          height='23'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
        >
          <path
            d='M121.182 17.788h-4.858l-.728 1.863a.779.779 0 01-.154.238c-.075.074-.205.111-.392.111h-.518a.334.334 0 01-.224-.084.334.334 0 01-.084-.224c0-.046.019-.111.056-.195l3.43-8.835c.047-.102.117-.205.21-.308.093-.102.233-.153.42-.153h.84c.187 0 .327.05.42.153.093.103.163.206.21.309l3.416 8.834c.037.084.056.149.056.195a.31.31 0 01-.098.224.285.285 0 01-.21.084h-.518c-.187 0-.317-.037-.392-.111a.779.779 0 01-.154-.238l-.728-1.863zm-4.368-1.26h3.878l-1.932-4.997-1.946 4.998z'
            fill='#14C393'
          />
          <path
            d='M125.422 16.85c.037.374.116.691.238.952.13.262.284.477.462.645.186.168.392.294.616.378.224.074.452.111.686.111.448 0 .83-.084 1.148-.252.317-.168.564-.448.742-.84.065-.149.13-.247.196-.294a.429.429 0 01.266-.084h.42c.102 0 .191.038.266.112a.306.306 0 01.112.267c-.01.224-.084.47-.224.742a2.44 2.44 0 01-.602.741 3.534 3.534 0 01-.98.575c-.383.158-.831.238-1.344.238-.514 0-.971-.084-1.372-.252a3.063 3.063 0 01-1.008-.686 3.262 3.262 0 01-.644-1.023 3.945 3.945 0 01-.252-1.26c-.01-.149-.019-.33-.028-.546 0-.223.009-.415.028-.573.037-.449.13-.869.28-1.26.158-.393.373-.733.644-1.023.27-.289.602-.518.994-.686.392-.168.844-.252 1.358-.252.513 0 .961.08 1.344.239.392.158.718.354.98.587.27.224.471.472.602.742.14.262.214.505.224.729a.305.305 0 01-.112.265.365.365 0 01-.266.113h-.42a.489.489 0 01-.266-.07c-.066-.056-.131-.16-.196-.309-.178-.391-.425-.671-.742-.84-.318-.168-.7-.252-1.148-.252a2.05 2.05 0 00-.7.127 1.73 1.73 0 00-.616.364 2.255 2.255 0 00-.462.643 2.732 2.732 0 00-.224.953 5.723 5.723 0 000 .98z'
            fill='#14C393'
          />
          <path
            d='M131.731 18.166c0-.373.075-.7.224-.98.15-.28.355-.517.616-.713.262-.197.565-.355.91-.476a7.04 7.04 0 011.12-.28l1.974-.322v-.182c0-.476-.158-.831-.476-1.064-.308-.243-.695-.364-1.162-.364-.41 0-.723.074-.938.223a2.42 2.42 0 00-.532.533.456.456 0 01-.182.153.688.688 0 01-.266.042h-.42a.413.413 0 01-.28-.112.322.322 0 01-.098-.266c.019-.205.098-.415.238-.63.15-.214.346-.405.588-.573.252-.168.537-.304.854-.406a3.174 3.174 0 011.036-.168c.42 0 .808.06 1.162.181.364.122.672.3.924.532.262.234.462.523.602.868.15.346.224.742.224 1.19v4.27a.362.362 0 01-.112.267.362.362 0 01-.266.111h-.518a.365.365 0 01-.266-.111.366.366 0 01-.112-.267v-.573a1.332 1.332 0 01-.392.476c-.177.13-.382.242-.616.335a3.506 3.506 0 01-.714.21 3.63 3.63 0 01-.686.07c-.364 0-.7-.05-1.008-.154a2.63 2.63 0 01-.77-.405 2.03 2.03 0 01-.49-.63 1.848 1.848 0 01-.168-.785zm2.576.77c.336 0 .644-.05.924-.154.28-.102.518-.242.714-.42a1.78 1.78 0 00.462-.657c.112-.252.168-.532.168-.84v-.35l-1.652.265c-.588.094-1.054.243-1.4.448-.345.206-.518.472-.518.798 0 .103.024.206.07.308.047.103.122.201.224.294.103.094.234.169.392.224.168.056.374.084.616.084z'
            fill='#14C393'
          />
          <path
            d='M142.72 12.58c.579 0 1.041.103 1.386.309.345.196.607.41.784.644v-3.095c0-.102.037-.19.112-.266a.364.364 0 01.266-.112h.518c.103 0 .191.038.266.112a.362.362 0 01.112.266v9.184a.362.362 0 01-.112.267.363.363 0 01-.266.111h-.518a.363.363 0 01-.266-.111.362.362 0 01-.112-.267v-.433c-.187.252-.453.476-.798.671-.345.187-.803.28-1.372.28-.439 0-.849-.074-1.232-.224a2.963 2.963 0 01-.98-.672 3.27 3.27 0 01-.672-1.05 4.251 4.251 0 01-.294-1.386 6.986 6.986 0 010-.91c.028-.513.126-.975.294-1.386.168-.41.392-.755.672-1.036.28-.289.607-.508.98-.658a3.186 3.186 0 011.232-.237zm2.17 4.382c.009-.14.014-.322.014-.546 0-.233-.005-.42-.014-.56-.028-.662-.229-1.17-.602-1.525-.364-.364-.84-.546-1.428-.546-.616 0-1.101.195-1.456.588-.355.392-.551.924-.588 1.596-.009.26-.009.522 0 .784.037.671.233 1.203.588 1.596.355.392.84.587 1.456.587.579 0 1.055-.177 1.428-.532.373-.354.574-.835.602-1.442z'
            fill='#14C393'
          />
          <path
            d='M147.923 15.66c.037-.429.14-.83.308-1.204.168-.373.387-.7.658-.98s.593-.499.966-.658a3.297 3.297 0 011.274-.237c.504 0 .952.084 1.344.252.401.158.742.392 1.022.7.28.308.495.68.644 1.12.149.438.224.928.224 1.47v.377a.362.362 0 01-.112.267.363.363 0 01-.266.111h-4.816v.084c.019.635.21 1.125.574 1.47.373.337.835.505 1.386.505.513 0 .896-.07 1.148-.21.261-.15.471-.313.63-.49a.822.822 0 01.196-.154.585.585 0 01.252-.042h.42c.103 0 .196.037.28.111a.272.272 0 01.098.267 1.541 1.541 0 01-.238.56 2.198 2.198 0 01-.574.56 3.562 3.562 0 01-.924.433 4.398 4.398 0 01-1.288.168 3.19 3.19 0 01-1.26-.238 3.274 3.274 0 01-.98-.672 3.543 3.543 0 01-.658-1.008 4.038 4.038 0 01-.308-1.274 5.9 5.9 0 010-1.287zm1.246.043h3.934v-.042c0-.57-.182-1.022-.546-1.358-.355-.346-.831-.519-1.428-.519-.271 0-.523.047-.756.14-.233.085-.439.21-.616.379a1.7 1.7 0 00-.42.587c-.103.234-.159.49-.168.77v.043z'
            fill='#14C393'
          />
          <path
            d='M157.326 13.533c.084-.112.182-.224.294-.336a1.71 1.71 0 01.378-.308c.149-.094.322-.168.518-.224a2.51 2.51 0 01.686-.084c.569 0 1.041.107 1.414.322.373.205.667.503.882.896.121-.168.247-.327.378-.476.14-.15.299-.28.476-.393.187-.111.392-.195.616-.252.233-.065.504-.098.812-.098.943 0 1.629.285 2.058.854.429.56.644 1.33.644 2.31v3.878a.362.362 0 01-.112.267.363.363 0 01-.266.111h-.518a.363.363 0 01-.266-.111.362.362 0 01-.112-.267v-3.738c0-.718-.14-1.245-.42-1.582-.28-.345-.691-.518-1.232-.518-.495 0-.896.164-1.204.49-.299.327-.448.831-.448 1.513v3.835a.362.362 0 01-.112.267.363.363 0 01-.266.111h-.518a.363.363 0 01-.266-.111.362.362 0 01-.112-.267v-3.738c0-.718-.14-1.245-.42-1.582-.28-.345-.691-.518-1.232-.518-.495 0-.896.164-1.204.49-.299.327-.448.831-.448 1.513v3.835a.362.362 0 01-.112.267.363.363 0 01-.266.111h-.518a.363.363 0 01-.266-.111.362.362 0 01-.112-.267v-6.524c0-.102.037-.19.112-.266a.364.364 0 01.266-.112h.518c.103 0 .191.038.266.112a.362.362 0 01.112.266v.434z'
            fill='#14C393'
          />
          <path
            d='M170.403 22.325a.744.744 0 01-.14.224.335.335 0 01-.266.111h-.574a.324.324 0 01-.238-.098.325.325 0 01-.098-.238.32.32 0 01.014-.098l1.344-2.925-2.772-6.146a.32.32 0 01-.014-.098c0-.094.033-.173.098-.239a.324.324 0 01.238-.098h.574c.112 0 .201.038.266.112.065.075.112.15.14.224l2.156 4.76 2.184-4.76a.746.746 0 01.14-.223.335.335 0 01.266-.113h.574c.093 0 .173.033.238.098a.325.325 0 01.098.239.32.32 0 01-.014.098l-4.214 9.17z'
            fill='#14C393'
          />
          <path
            d='M0 13.064c0-.471.128-.825.386-1.062.257-.236.604-.354 1.043-.354.438 0 .785.119 1.043.354.257.237.385.59.385 1.062 0 .49-.128.852-.385 1.088-.258.235-.605.354-1.043.354-.439 0-.786-.119-1.043-.354C.128 13.916 0 13.554 0 13.064z'
            fill='#181B2B'
          />
          <path
            d='M4.913 17.382c.38.223.831.413 1.354.571a5.54 5.54 0 001.609.237c.627 0 1.158-.154 1.595-.462.437-.309.655-.808.655-1.5 0-.578-.133-1.054-.399-1.428a4.464 4.464 0 00-1.01-1.008c-.409-.299-.85-.574-1.326-.824a7.062 7.062 0 01-1.325-.901 4.512 4.512 0 01-1.01-1.25c-.267-.48-.4-1.091-.4-1.831 0-1.185.328-2.077.983-2.68.655-.601 1.582-.902 2.778-.902.778 0 1.453.07 2.022.21.57.138 1.064.33 1.482.57l-.541 1.671a5.968 5.968 0 00-1.254-.46 5.893 5.893 0 00-1.453-.18c-.683 0-1.182.139-1.495.418-.314.278-.47.715-.47 1.309 0 .464.132.859.398 1.184.266.325.603.622 1.011.891.409.27.85.543 1.325.822.475.279.916.608 1.325.989.409.38.745.835 1.011 1.364.266.53.4 1.194.4 1.992 0 .52-.087 1.012-.257 1.476-.171.465-.433.869-.784 1.212a3.85 3.85 0 01-1.31.822c-.523.204-1.135.306-1.837.306-.836 0-1.558-.079-2.166-.237-.607-.157-1.12-.366-1.538-.626l.627-1.755z'
            fill='#181B2B'
          />
          <path
            d='M14.628 6.574c.55-.334 1.22-.594 2.009-.78a10.84 10.84 0 012.492-.278c.798 0 1.439.116 1.924.348.484.232.864.548 1.14.946.274.4.455.855.54 1.365.086.511.128 1.045.128 1.601 0 1.115-.024 2.2-.073 3.26a64.903 64.903 0 00-.073 3.007c0 .706.024 1.361.073 1.964.05.603.14 1.174.273 1.713h-1.606l-.498-1.643h-.113c-.282.483-.697.9-1.243 1.253-.547.353-1.282.53-2.206.53-1.018 0-1.853-.349-2.503-1.045-.65-.697-.976-1.658-.976-2.884 0-.798.136-1.467.41-2.005.274-.538.66-.975 1.16-1.31.498-.333 1.091-.57 1.78-.71.686-.139 1.455-.209 2.302-.209h.565c.188 0 .386.01.594.028a15.9 15.9 0 00.084-1.532c0-1.059-.16-1.801-.48-2.229-.32-.427-.904-.64-1.75-.64-.527 0-1.1.079-1.722.237-.62.157-1.138.358-1.553.598l-.678-1.585zm6.125 6.742a11.465 11.465 0 00-1.125-.056c-.45 0-.892.037-1.324.11a3.67 3.67 0 00-1.154.39 2.147 2.147 0 00-.802.753c-.197.316-.296.715-.296 1.197 0 .743.183 1.319.55 1.727.365.409.839.613 1.42.613.788 0 1.398-.185 1.83-.557.432-.37.731-.78.9-1.225v-2.952h.001z'
            fill='#181B2B'
          />
          <path
            d='M33.457 19.666V11.17c0-1.392-.166-2.4-.498-3.022-.333-.622-.927-.933-1.781-.933-.76 0-1.387.223-1.88.67a3.921 3.921 0 00-1.083 1.643v10.14h-2.05V5.737h1.48l.37 1.477h.086c.361-.502.85-.928 1.467-1.282.618-.352 1.354-.529 2.209-.529.607 0 1.143.084 1.609.251.465.167.854.45 1.168.85.313.399.55.933.713 1.601.161.67.242 1.514.242 2.535v9.025h-2.052z'
            fill='#181B2B'
          />
          <path
            d='M37.247 5.738h1.737V2.98l2.051-.641v3.399h3.077v1.81h-3.077v8.301c0 .817.1 1.407.3 1.769.2.361.527.542.983.542.38 0 .706-.042.982-.125.275-.084.574-.19.898-.32l.398 1.588a6.774 6.774 0 01-2.963.669c-.95 0-1.628-.303-2.036-.906-.408-.604-.613-1.583-.613-2.939v-8.58h-1.737v-1.81z'
            fill='#181B2B'
          />
          <path
            d='M46.476 1.504c0-.445.128-.807.385-1.086.256-.279.594-.418 1.012-.418.417 0 .764.135 1.04.404.274.27.412.636.412 1.1 0 .446-.138.794-.413 1.045-.275.25-.622.376-1.04.376-.417 0-.754-.13-1.01-.39-.257-.26-.386-.603-.386-1.03zm.371 4.234h2.05v13.928h-2.05V5.738z'
            fill='#181B2B'
          />
          <path
            d='M59.353 19.665v-8.273c0-.742-.024-1.379-.071-1.908-.048-.53-.148-.961-.3-1.296-.152-.334-.36-.58-.627-.738-.266-.157-.617-.236-1.053-.236-.646 0-1.193.246-1.638.737a4.063 4.063 0 00-.927 1.686v10.027h-2.05V5.737h1.452l.37 1.477h.086a4.99 4.99 0 011.424-1.31c.55-.334 1.254-.502 2.108-.502.722 0 1.315.153 1.781.46.466.306.831.85 1.097 1.63a3.78 3.78 0 011.467-1.533 4.078 4.078 0 012.094-.557c.627 0 1.163.08 1.61.237.446.158.806.437 1.082.836.275.4.48.929.613 1.587.132.66.199 1.49.199 2.494v9.108h-2.051v-8.857c0-1.207-.12-2.107-.356-2.702-.237-.594-.783-.891-1.638-.891-.722 0-1.296.218-1.723.654-.428.437-.727 1.026-.898 1.769v10.027h-2.05v.001z'
            fill='#181B2B'
          />
          <path
            d='M79.75 18.718c-.456.408-1.036.724-1.738.946a7.306 7.306 0 01-2.222.334c-.893 0-1.666-.171-2.322-.515a4.367 4.367 0 01-1.623-1.476c-.428-.64-.74-1.407-.94-2.298-.2-.892-.3-1.894-.3-3.008 0-2.377.447-4.188 1.34-5.432.893-1.245 2.155-1.867 3.789-1.867.53 0 1.058.066 1.581.195.522.13.992.39 1.41.78.418.39.755.938 1.011 1.644.257.705.385 1.625.385 2.757 0 .317-.015.655-.043 1.017-.029.362-.062.738-.1 1.129h-7.236c0 .798.066 1.523.2 2.173.132.65.341 1.202.626 1.657.285.455.65.808 1.097 1.059.447.25 1.002.376 1.667.376.513 0 1.02-.093 1.524-.28.503-.185.887-.408 1.154-.668l.74 1.477zm-1.595-7.465c.038-1.393-.162-2.414-.599-3.064-.436-.65-1.035-.975-1.794-.975-.874 0-1.567.326-2.08.975-.513.65-.816 1.671-.911 3.064h5.384z'
            fill='#181B2B'
          />
          <path
            d='M90.29 19.666V11.17c0-1.392-.166-2.4-.498-3.022-.333-.622-.927-.933-1.781-.933-.76 0-1.387.223-1.88.67a3.92 3.92 0 00-1.083 1.643v10.14h-2.05V5.737h1.48l.37 1.477h.086c.361-.502.85-.928 1.468-1.282.617-.352 1.353-.529 2.207-.529.608 0 1.144.084 1.61.251.465.167.854.45 1.167.85.314.399.55.933.712 1.601.162.67.243 1.514.243 2.535v9.025h-2.05z'
            fill='#181B2B'
          />
          <path
            d='M94.079 5.738h1.738V2.98l2.05-.641v3.399h3.077v1.81h-3.076v8.301c0 .817.099 1.407.299 1.769.2.361.526.542.983.542.38 0 .706-.042.982-.125.275-.084.574-.19.898-.32l.398 1.588a6.776 6.776 0 01-2.962.669c-.95 0-1.629-.303-2.037-.906-.408-.604-.612-1.583-.612-2.939v-8.58h-1.738v-1.81z'
            fill='#181B2B'
          />
          <path
            d='M102.857 12.844c0-.472.129-.826.386-1.062.257-.236.605-.354 1.043-.354.438 0 .786.118 1.043.354.257.236.386.59.386 1.062 0 .489-.129.851-.386 1.087-.257.235-.605.354-1.043.354-.438 0-.786-.119-1.043-.354-.257-.236-.386-.598-.386-1.087z'
            fill='#181B2B'
          />
        </svg>
      </Link>
      <label htmlFor='hamburger'>
        <Icon type='hamburger' />
      </label>
      <input id='hamburger' type='checkbox' ref={toggle} />
      <nav className={styles.nav}>
        <label htmlFor='hamburger' className={styles.close}>
          <Icon type='close' />
        </label>
        {isDesktop || isTablet ? (
          <Dropdown
            title={<Icon type='profile' />}
            isDesktop={isDesktop}
          >
            <div className={dropdownStyles.list}>
              <Link to="/login">Log in</Link>
            </div>
          </Dropdown>
        ) : (
          <Link to="/login">Log in</Link>
        )}
      </nav>
    </div>
    </header>
  )
}

export default withSizes(mapSizesToProps)(Header)
